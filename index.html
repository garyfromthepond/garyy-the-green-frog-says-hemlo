<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>did it make you smile?</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      background-image: url('bg.jpeg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      background-attachment: fixed;
      font-family: 'Abril Fatface', cursive;
      text-align: center;
      padding: 50px;
      color: #5a9756;
      text-transform: lowercase;
      box-sizing: border-box;
      position: relative;
    }

    .question-box {
      background-color: rgba(255, 255, 255, 0.6);
      padding: 30px;
      margin: 20px auto;
      width: 70%;
      border-radius: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      color: #5a9756;
    }

    button {
      background-color: #b9e2c4;
      border: none;
      padding: 12px 30px;
      margin: 10px;
      font-size: 1.2em;
      border-radius: 10px;
      cursor: pointer;
      font-family: 'Abril Fatface', cursive;
      text-transform: lowercase;
      color: #5a9756;
    }

    img {
      max-width: 300px;
      margin-top: 30px;
      border-radius: 15px;
    }

    .intro-img {
      max-width: 240px;
      margin-bottom: 5px;
      border-radius: 15px;
    }

    .gary-note {
      font-family: 'Arial', sans-serif;
      font-size: 0.95em;
      color: #5a9756;
      background-color: #fff5c8;
      display: inline-block;
      padding: 10px 15px;
      border-radius: 10px;
      margin-top: 10px;
      max-width: 220px;
      transform: rotate(-2deg);
      box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.15);
      display: none;
    }

    .spotify-embed {
      margin-top: 40px;
      width: 80%;
      max-width: 500px;
      border-radius: 12px;
    }

    .sticky-note {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #fff5c8;
      color: #5a9756;
      padding: 15px 20px;
      border-radius: 10px;
      font-size: 0.95em;
      font-family: 'Arial', sans-serif;
      box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.15);
      transform: rotate(2deg);
      max-width: 180px;
      text-align: left;
      z-index: 1000;
    }

    .popup {
      position: fixed;
      top: 20px;
      left: 20px;
      background-color: #fff5c8;
      color: #5a9756;
      padding: 20px 25px;
      border-radius: 12px;
      font-family: 'Arial', sans-serif;
      font-size: 1em;
      box-shadow: 3px 5px 12px rgba(0,0,0,0.2);
      z-index: 2000;
      max-width: 220px;
      text-align: left;
      display: none; /* hide by default */
    }

    .popup-buttons {
      margin-top: 10px;
      display: flex;
      gap: 10px;
      justify-content: flex-start;
    }

    .popup-buttons button {
      font-size: 0.9em;
      padding: 6px 12px;
      background-color: #b9e2c4;
      color: #5a9756;
      border: none;
      border-radius: 6px;
      font-family: 'Arial', sans-serif;
      cursor: pointer;
    }

    @media (max-width: 768px) {
      .question-box {
        width: 90%;
        padding: 20px;
      }

      button {
        padding: 10px 20px;
        font-size: 1em;
      }

      img {
        max-width: 90%;
      }

      .spotify-embed {
        width: 90%;
      }

      .sticky-note {
        top: 10px;
        right: 10px;
        font-size: 0.9em;
        padding: 10px 15px;
      }

      .popup {
        top: 10px;
        left: 10px;
        font-size: 0.95em;
        padding: 15px 20px;
        max-width: 200px;
      }

      .popup-buttons {
        flex-direction: column;
        gap: 6px;
      }

      .popup-buttons button {
        font-size: 0.85em;
        padding: 6px 10px;
      }
    }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&display=swap" rel="stylesheet">
</head>
<body>

  <div class="sticky-note">
    stay to listen to the rest of the song<br>or just click the embed down there hehe :3
  </div>

  <div class="popup" id="popup">
    nuh uh say hemlo to gary first before you start >:0 (did you?)
    <div class="popup-buttons">
      <button onclick="closePopup()">i did, yep</button>
      <button onclick="closePopup()">donee</button>
    </div>
  </div>

  <audio id="bgMusic">
    <source src="music.mp3" type="audio/mpeg">
  </audio>

  <div id="question-image">
    <img src="fwog.jpeg" alt="cute image" class="intro-img">
    <div class="gary-note" id="garyNote">i'm garyy, hemlo to you too :P</div>
  </div>

  <div class="question-box" id="content">
    <h2>did the birthday presents make you smile?</h2>
    <button onclick="handleAnswer('yes')">yes</button>
    <button onclick="handleAnswer('no')">no</button>
  </div>

  <iframe style="margin-top: 30px;" class="spotify-embed" src="https://open.spotify.com/embed/track/7cm50Lw03k6VvRauJtkyTj?utm_source=generator" height="152" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>

  <script>
    const audio = document.getElementById("bgMusic");
    const popup = document.getElementById("popup");
    const garyNote = document.getElementById("garyNote");
    let hasPlayed = false;

    function closePopup() {
      popup.style.display = "none";
      garyNote.style.display = "inline-block";
      setTimeout(() => {
        garyNote.style.display = "none";
      }, 6000); // 6 seconds
    }

    const questions = [
      "are you sure?",
      "think againnnnn",
      "you're just kidding right?",
      "you'll regret this-",
      "so it did make you smile right? :0"
    ];

    let questionIndex = 0;
    let hasGivenIn = false;

    function handleAnswer(answer) {
      if (!hasPlayed) {
        audio.play().catch(err => console.log("autoplay failed", err));
        hasPlayed = true;
      }

      const contentDiv = document.getElementById("content");
      const imgDiv = document.getElementById("question-image");

      if (answer === 'yes') {
        if (questionIndex === 0 || hasGivenIn) {
          imgDiv.innerHTML = "";
          contentDiv.innerHTML = `
            <h2>yayyyy, hehe im so happy that it made you smile</h2>
            <img src="frog.jpeg" alt="frog image">
          `;
        } else {
          hasGivenIn = true;
          showNextQuestion();
        }
      } else {
        if (questionIndex < questions.length - 1) {
          questionIndex++;
          showNextQuestion();
        } else {
          imgDiv.innerHTML = "";
          contentDiv.innerHTML = `
            <h2>oh. kanmani is sad now :( <br>go away you four eyed ungrateful bimbo</h2>
            <img src="car.jpeg" alt="sad image">
          `;
        }
      }
    }

    function showNextQuestion() {
      const contentDiv = document.getElementById("content");
      contentDiv.innerHTML = `
        <h2>${questions[questionIndex]}</h2>
        <button onclick="handleAnswer('yes')">yes</button>
        <button onclick="handleAnswer('no')">no</button>
      `;
    }

    // Show the "say hemlo to gary" popup after 1.5 seconds
    window.addEventListener("load", () => {
      setTimeout(() => {
        popup.style.display = "block";
      }, 2000);
    });
  </script>
</body>
</html>
